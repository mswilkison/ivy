/*!
 * Bootstrap YouTube Popup Player Plugin
 * http://lab.abhinayrathore.com/bootstrap-youtube/
 * https://github.com/abhinayrathore/Bootstrap-Youtube-Popup-Player-Plugin
 */
(function(h){var k=null,b=null,d=null,i=null,p=null,g=5;var e={init:function(q){q=h.extend({},h.fn.YouTubeModal.defaults,q);if(k==null){k=h('<div class="modal fade '+q.cssClass+'" id="YouTubeModal" role="dialog" aria-hidden="true">');var r='<div class="modal-dialog" id="YouTubeModalDialog"><div class="modal-content" id="YouTubeModalContent"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title" id="YouTubeModalTitle"></h4></div><div class="modal-body" id="YouTubeModalBody"></div></div></div>';k.html(r).hide().appendTo("body");b=h("#YouTubeModalDialog");d=h("#YouTubeModalContent");i=h("#YouTubeModalTitle");p=h("#YouTubeModalBody");k.modal({show:false}).on("hide.bs.modal",n)}return this.each(function(){var t=h(this);var s=t.data("YouTube");if(!s){t.data("YouTube",{target:t});h(t).bind("click.YouTubeModal",function(){var x=q.youtubeId;if(h.trim(x)==""&&t.is("a")){x=j(t.attr("href"))}if(h.trim(x)==""||x===false){x=t.attr(q.idAttribute)}var u=h.trim(q.title);if(u==""){if(q.useYouTubeTitle){c(x)}else{u=t.attr("title")}}if(u){o(u)}f(q.width,q.height);var w=m(x,q);var v=a(w,q.width,q.height);l(v);k.modal("show");return false})}})},destroy:function(){return this.each(function(){h(this).unbind(".YouTubeModal").removeData("YouTube")})}};function o(q){i.html(h.trim(q))}function l(q){p.html(q)}function n(){o("");l("")}function f(q,r){d.css({width:q+(g*2)});p.css({height:r+(g*2),padding:0});b.css({width:q+(g*2)})}function m(s,q){var r="//www.youtube.com/embed/"+s+"?rel=0&showsearch=0&autohide="+q.autohide;r+="&autoplay="+q.autoplay+"&controls="+q.controls+"&fs="+q.fs+"&loop="+q.loop;r+="&showinfo="+q.showinfo+"&color="+q.color+"&theme="+q.theme;r+="&wmode=transparent";return r}function a(r,t,q){var s='<iframe title="YouTube video player" width="'+t+'" height="'+q+'" ';s+='style="margin:0; padding:0; box-sizing:border-box; border:0; -webkit-border-radius:5px; -moz-border-radius:5px; border-radius:5px; margin:'+(g-1)+'px;" ';s+='src="'+r+'" frameborder="0" allowfullscreen seamless></iframe>';return s}function c(r){var q="https://gdata.youtube.com/feeds/api/videos/"+r+"?v=2&alt=json";h.ajax({url:q,dataType:"jsonp",cache:true,success:function(s){o(s.entry.title.$t)}})}function j(q){var s=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/;var r=q.match(s);if(r&&r[2].length==11){return r[2]}else{return false}}h.fn.YouTubeModal=function(q){if(e[q]){return e[q].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof q==="object"||!q){return e.init.apply(this,arguments)}else{h.error("Method "+q+" does not exist on Bootstrap.YouTubeModal")}}};h.fn.YouTubeModal.defaults={youtubeId:"",title:"",useYouTubeTitle:true,idAttribute:"rel",cssClass:"YouTubeModal",width:640,height:480,autohide:2,autoplay:1,color:"red",controls:1,fs:1,loop:0,showinfo:0,theme:"light"}})(jQuery);
